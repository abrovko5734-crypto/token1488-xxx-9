<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RUINACOIN TAP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background-color: #0f0f0f;
      color: #fff;
      font-family: 'Arial', sans-serif;
      text-align: center;
      padding: 20px;
      margin: 0;
    }
    h1 {
      font-size: 32px;
      color: #ff00aa;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #ff00aa;
    }
    #score {
      font-size: 24px;
      margin-bottom: 10px;
    }
    #clickPowerDisplay {
      font-size: 20px;
      color: #00ffd5;
      margin-bottom: 20px;
    }
    .tap-image {
      width: 80%;
      max-width: 300px;
      height: auto;
      cursor: pointer;
      border-radius: 20px;
      box-shadow: 0 0 20px #ff00aa;
      transition: transform 0.1s ease;
    }
    .tap-image:active {
      transform: scale(0.97);
    }
    .shop {
      margin-top: 30px;
    }
    .shop h2 {
      font-size: 20px;
      margin-bottom: 10px;
      color: #00ffd5;
    }
    .shop-button {
      font-size: 16px;
      margin: 8px;
      padding: 10px 20px;
      background-color: #222;
      color: #fff;
      border: 2px solid #00ffd5;
      border-radius: 10px;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    .shop-button:hover {
      background-color: #333;
    }
    #message {
      margin-top: 20px;
      font-size: 18px;
      color: #ffcc00;
      min-height: 24px;
    }
    #leaderboard {
      list-style: none;
      padding: 0;
      margin-top: 20px;
    }
    #leaderboard li {
      font-size: 16px;
      margin: 4px 0;
    }
  </style>
</head>
<body>
  <h1>RUINACOIN TAP</h1>
  <div id="score">RUINA: 0</div>
  <div id="clickPowerDisplay">Click Power: +1</div>

  <!-- Tap Button Image -->
  <img id="tapImage"
       src=""
       alt="RUINA Button"
       class="tap-image"
       onclick="tap()">

  <!-- Upgrade Shop -->
  <div class="shop">
    <h2>Upgrade Shop</h2>
    <button class="shop-button" onclick="buyUpgrade()">Add +1 per click — <span id="upgradeCost">50</span> RUINA</button>
    <button class="shop-button" onclick="buyAutoClick()">Enable Auto Click — 100,000 RUINA</button>
  </div>

  <!-- Skin Selector -->
  <div class="shop">
    <h2>Выбор скина кнопки</h2>
    <button class="shop-button" onclick="prevSkin()">←</button>
    <button class="shop-button" onclick="nextSkin()">→</button>
  </div>

  <!-- Player Name Input -->
  <div style="margin-top: 20px;">
    <input type="text" id="playerName" placeholder="Enter your name" style="padding: 8px; border-radius: 5px;">
    <button onclick="saveScore()" class="shop-button">Save Score</button>
  </div>

  <!-- Leaderboard -->
  <div style="margin-top: 30px;">
    <h2 style="color:#00ffd5;">Leaderboard</h2>
    <ul id="leaderboard"></ul>
  </div>

  <!-- Message Box -->
  <div id="message"></div>

  <script>
let ruina = 0;
let clickPower = 1;
let upgradeCost = 50;
let autoClickEnabled = false;

const skins = [
  "https://i.postimg.cc/d7hZXDtL/photo-1-2025-09-16-13-48-10.jpg",
  "https://i.postimg.cc/4HgKm5v9/photo-2-2025-09-16-13-48-10.jpg",
  "https://i.postimg.cc/0MmMk3Sv/photo-3-2025-09-16-13-48-10.jpg",
  "https://i.postimg.cc/RJLWfHGb/photo-4-2025-09-16-13-48-10.jpg",
  "https://i.postimg.cc/7CjJyDfX/photo-5-2025-09-16-13-48-10.jpg",
  "https://i.postimg.cc/0rYMhTxd/photo-6-2025-09-16-13-48-10.jpg"
];
let currentSkinIndex = 0;

function updateSkin() {
  document.getElementById("tapImage").src = skins[currentSkinIndex];
  localStorage.setItem("ruinaSkinIndex", currentSkinIndex);
}

function nextSkin() {
  currentSkinIndex = (currentSkinIndex + 1) % skins.length;
  updateSkin();
}

function prevSkin() {
  currentSkinIndex = (currentSkinIndex - 1 + skins.length) % skins.length;
  updateSkin();
}

function loadSkin() {
  const savedIndex = localStorage.getItem("ruinaSkinIndex");
  if (savedIndex !== null) {
    currentSkinIndex = parseInt(savedIndex);
  }
  updateSkin();
}

function containsBadWords(name) {
  const badWords = ["хуй", "пизда", "еба", "сука", "бляд", "fuck", "shit", "bitch", "писюн", "песюн", "песун", "члэн", "член", "ебаба", "ебоба"];
  const lowerName = name.toLowerCase();
  return badWords.some(word => lowerName.includes(word));
}

function saveScore() {
  const name = document.getElementById("playerName").value.trim();
  if (!name) {
    showMessage("Enter your name to save score.");
    return;
  }
  if (containsBadWords(name)) {
    showMessage("Inappropriate name. Please choose a different one.");
    return;
  }

  const leaderboard = JSON.parse(localStorage.getItem("ruinaLeaderboard")) || [];
  const existing = leaderboard.find(entry => entry.name === name);

  if (existing) {
    if (ruina > existing.ruina) {
      existing.ruina = ruina;
      showMessage("New high score saved!");
    } else {
      showMessage("Your previous score is higher.");
    }
  } else {
    leaderboard.push({ name, ruina });
    showMessage("Score saved!");
  }

  leaderboard.sort((a, b) => b.ruina - a.ruina);
  localStorage.setItem("ruinaLeaderboard", JSON.stringify(leaderboard));
  showLeaderboard();
}

function autoSaveScore() {
  const name = document.getElementById("playerName").value.trim();
  if (!name || containsBadWords(name)) return;

  const leaderboard = JSON.parse(localStorage.getItem("ruinaLeaderboard")) || [];
  const existing = leaderboard.find(entry => entry.name === name);

  if (existing) {
    if (ruina > existing.ruina) {
      existing.ruina = ruina;
    }
  } else {
    leaderboard.push({ name, ruina });
  }

  leaderboard.sort((a, b) => b.ruina - a.ruina);
  localStorage.setItem("ruinaLeaderboard", JSON.stringify(leaderboard));
  showLeaderboard();
}

function showLeaderboard() {
  const leaderboard = JSON.parse(localStorage.getItem("ruinaLeaderboard")) || [];
  const list = document.getElementById("leaderboard");
  list.innerHTML = "";
  leaderboard.slice(0, 5).forEach((entry, index) => {
    const li = document.createElement("li");
    li.innerText = `${index + 1}. ${entry.name} — ${entry.ruina} RUINA`;
    list.appendChild(li);
  });
}

window.onload = function () {
  const saved = JSON.parse(localStorage.getItem("ruinaData"));
  if (saved) {
    ruina = saved.ruina || 0;
    clickPower = saved.clickPower || 1;
    upgradeCost = saved.upgradeCost || 50;
    autoClickEnabled = saved.autoClickEnabled || false;
    document.getElementById('upgradeCost').innerText = upgradeCost;
    updateScore();
    if (autoClickEnabled) startAutoClick();
  }
  let ruina = 0;
let clickPower = 1;
let upgradeCost = 50;
let autoClickEnabled = false;

const skins = [
  "https://i.postimg.cc/d7hZXDtL/photo-1-2025-09-16-13-48-10.jpg",
  "https://i.postimg.cc/4HgKm5v9/photo-2-2025-09-16-13-48-10.jpg",
  "https://i.postimg.cc/0MmMk3Sv/photo-3-2025-09-16-13-48-10.jpg",
  "https://i.postimg.cc/RJLWfHGb/photo-4-2025-09-16-13-48-10.jpg",
  "https://i.postimg.cc/7CjJyDfX/photo-5-2025-09-16-13-48-10.jpg",
  "https://i.postimg.cc/0rYMhTxd/photo-6-2025-09-16-13-48-10.jpg"
];
let currentSkinIndex = 0;

function updateSkin() {
  document.getElementById("tapImage").src = skins[currentSkinIndex];
  localStorage.setItem("ruinaSkinIndex", currentSkinIndex);
}

function nextSkin() {
  currentSkinIndex = (currentSkinIndex + 1) % skins.length;
  updateSkin();
}

function prevSkin() {
  currentSkinIndex = (currentSkinIndex - 1 + skins.length) % skins.length;
  updateSkin();
}

function updateScore() {
  document.getElementById("score").innerText = `RUINA: ${ruina}`;
  document.getElementById("clickPowerDisplay").innerText = `Click Power: +${clickPower}`;
  document.getElementById("upgradeCost").innerText = upgradeCost;
}

function showMessage(msg) {
  document.getElementById("message").innerText = msg;
}

function tap() {
  ruina += clickPower;
  updateScore();
  autoSaveScore();
  saveData();
}

function buyUpgrade() {
  if (ruina >= upgradeCost) {
    ruina -= upgradeCost;
    clickPower += 1;
    upgradeCost = Math.floor(upgradeCost * 1.5);
    updateScore();
    showMessage("Upgrade purchased!");
    saveData();
  } else {
    showMessage("Not enough RUINA for upgrade.");
  }
}

function buyAutoClick() {
  if (!autoClickEnabled && ruina >= 100000) {
    ruina -= 100000;
    autoClickEnabled = true;
    startAutoClick();
    showMessage("Auto Click enabled!");
    saveData();
  } else if (autoClickEnabled) {
    showMessage("Auto Click already enabled.");
  } else {
    showMessage("Not enough RUINA for Auto Click.");
  }
}

function startAutoClick() {
  setInterval(() => {
    ruina += clickPower;
    updateScore();
    autoSaveScore();
    saveData();
  }, 1000);
}

function containsBadWords(name) {
  const badWords = ["хуй", "пизда", "еба", "сука", "бляд", "fuck", "shit", "bitch", "писюн", "песюн", "песун", "члэн", "член", "ебаба", "ебоба"];
  return badWords.some(word => name.toLowerCase().includes(word));
}

function saveScore() {
  const name = document.getElementById("playerName").value.trim();
  if (!name) return showMessage("Enter your name to save score.");
  if (containsBadWords(name)) return showMessage("Inappropriate name. Please choose a different one.");

  const leaderboard = JSON.parse(localStorage.getItem("ruinaLeaderboard")) || [];
  const existing = leaderboard.find(entry => entry.name === name);

  if (existing) {
    if (ruina > existing.ruina) {
      existing.ruina = ruina;
      showMessage("New high score saved!");
    } else {
      showMessage("Your previous score is higher.");
    }
  } else {
    leaderboard.push({ name, ruina });
    showMessage("Score saved!");
  }

  leaderboard.sort((a, b) => b.ruina - a.ruina);
  localStorage.setItem("ruinaLeaderboard", JSON.stringify(leaderboard));
  showLeaderboard();
}

function autoSaveScore() {
  const name = document.getElementById("playerName").value.trim();
  if (!name || containsBadWords(name)) return;

  const leaderboard = JSON.parse(localStorage.getItem("ruinaLeaderboard")) || [];
  const existing = leaderboard.find(entry => entry.name === name);

  if (existing) {
    if (ruina > existing.ruina) existing.ruina = ruina;
  } else {
    leaderboard.push({ name, ruina });
  }

  leaderboard.sort((a, b) => b.ruina - a.ruina);
  localStorage.setItem("ruinaLeaderboard", JSON.stringify(leaderboard));
  showLeaderboard();
}

function showLeaderboard() {
  const leaderboard = JSON.parse(localStorage.getItem("ruinaLeaderboard")) || [];
  const list = document.getElementById("leaderboard");
  list.innerHTML = "";
  leaderboard.slice(0, 5).forEach((entry, index) => {
    const li = document.createElement("li");
    li.innerText = `${index + 1}. ${entry.name} — ${entry.ruina} RUINA`;
    list.appendChild(li);
  });
}

function saveData() {
  const data = {
    ruina,
    clickPower,
    upgradeCost,
    autoClickEnabled
  };
  localStorage.setItem("ruinaData", JSON.stringify(data));
}

window.onload = function () {
  const saved = JSON.parse(localStorage.getItem("ruinaData"));
  if (saved) {
    ruina = saved.ruina || 0;
    clickPower = saved.clickPower || 1;
    upgradeCost = saved.upgradeCost || 50;
    autoClickEnabled = saved.autoClickEnabled || false;
    if (autoClickEnabled) startAutoClick();
  }
  loadSkin();
  updateScore();
  showLeaderboard();
};
